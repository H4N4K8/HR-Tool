@model HR_Tool.Models.SummaryViewModel

@{
    ViewData["Title"] = "Index";
}

<h1>Summary Index</h1>

<form asp-action="Preview" method="post">
    <!-- Competency Dropdown -->
    <div class="form-group">
        <label asp-for="competency" class="control-label">Competency</label>
        <select id="compt" asp-for="competency" class="form-control" asp-items="ViewBag.CompetencyID">
            <option value="">-- Select Competency --</option> <!-- Optional: Default option -->
        </select>
        <span asp-validation-for="competency" class="text-danger"></span>
    </div>

    <!-- Proficiency Dropdown -->
    <div class="form-group">
        <label asp-for="proficiency" class="control-label">Proficiency</label>
        <select id="prof" asp-for="proficiency" class="form-control" asp-items="ViewBag.ProficiencyID">
            <option value="">-- Select Proficiency --</option> <!-- Optional: Default option -->
        </select>
        <span asp-validation-for="proficiency" class="text-danger"></span>
    </div>

    <!-- Add Button to Append to List -->
    <button type="button" id="addButton" class="btn btn-secondary">Add</button>

    <button type="submit" class="btn btn-primary">Submit</button>

    <!-- Add a hidden input to store selected items -->
    <input type="hidden" id="selectedItemsJson" name="SelectedItemsJson" />

</form>

<!-- Unordered List to Display Added Items -->
<h3>Selected Items:</h3>
<ul id="selectedItemsList">
    <!-- List items will appear here -->
</ul>

<!-- Link to the External JavaScript File -->
@section Scripts {
    <script>
        var competencies = @Html.Raw(Json.Serialize(ViewBag.CompetencyID));
        var proficiencies = @Html.Raw(Json.Serialize(ViewBag.ProficiencyID));
        console.log("Competencies:", competencies);
        console.log("Proficiencies:", proficiencies);
    </script>
    <script src="~/js/Summary.js"></script>
}